'RECURSIVE FACTORIAL CALCULATOR

'192.036

*&H100
;@13
'R0=N

'CALCULATE N!

MOVE 0 0

>LOOP
FUNC _0 ;I@EXPAND+ 'PUT N ON STACK AS 64-BIT
<FACTORIAL 'CALCULATE THE FACTORIAL
FUNC _0 ;@NO0DEC 'PRINT NUMBER
I !!
;@PC 'PRINT EXCLAMATION POINT
I !=
;@PC 'PRINT =
I 10 'DECIMAL
;I@EXPAND+
;I@PRINT+ 'PRINT RESULT
REFR
;@NL 'NEWLINE
INC 0
JUMP <LOOP

>FACTORIAL
;I@DUP 'GET A COPY OF N
;I@TRUE 'CHECK IF IT'S ZERO
JEI 0 ,11 <BASE 'BASE CASE?

;I@DROP 'DROP TRUE

;I@DUP 'GET DUPLICATE N
;I@LIT+ 1 'PUSH 1
;I@SUB 'SUBTRACT 1
;I@DROP 'DROP BORROW
<FACTORIAL 'RECURSIVELY CALCULATE FACTORIAL
;I@MUL 'MULTIPLY
;I@TRUE 'OVERFLOW?
JEI 1 ,11 <OVERFLOW
;I@DROP 'DROP OVERFLOW
]

>BASE
;I@DROP 'DROP TRUE VALUE, LEAVING N
;I@DROP 'DROP N
;I@LIT+ 1 'RETURN 1
]

>OVERFLOW
REFR
HALT

